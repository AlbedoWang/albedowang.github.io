<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Information Security Design and Analysis | Kaijian Wang </title> <meta name="author" content="Kaijian Wang"> <meta name="description" content="Misc, Advisor - Me and Crabtux"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/avatar-square-downscaled.jpg?b62a9e740dd4be04359419c1d5d9c92d"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://albedowang.github.io/teaching/infosec_1/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Kaijian Wang </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV </a> </li> <li class="nav-item active"> <a class="nav-link" href="/teaching/">TA <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/friends/">Friends </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Information Security Design and Analysis</h1> <p class="post-description">Misc, Advisor - Me and Crabtux</p> </header> <article> <p>In teaching, I found that students have a very weak grasp of Python. This article focuses on explaining certain Python packages and includes writeups of some past problems.</p> <h2 id="interacting-with-servers">Interacting with servers</h2> <p>Let’s discuss the most commonly used program for interacting with servers. Here, we use the <code class="language-plaintext highlighter-rouge">pwn</code> library to implement it. In previous courses, we mentioned <code class="language-plaintext highlighter-rouge">telnetlib</code>, but this library has been removed in Python 3.13<a href="https://docs.python.org/3/library/telnetlib.html" rel="external nofollow noopener" target="_blank">1</a>, so we will also abandon it here. The <code class="language-plaintext highlighter-rouge">pwn</code> library is a powerful CTF and binary analysis tool, as its name suggests, and it can greatly assist us in solving pwn-related challenges<a href="https://docs.pwntools.com/en/stable/about.html#module-pwn" rel="external nofollow noopener" target="_blank">2</a>. Since this course will not cover advanced binary topics, we will only use its interaction-related functions. If you’re interested, you can explore the rest of the library on your own, but we won’t cover it here.</p> <h3 id="installation">Installation</h3> <p>First, we use the following command to install the <code class="language-plaintext highlighter-rouge">pwn</code> library (assuming the Python environment has already been set up):</p> <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>pwn
</code></pre></div></div> <p>When “Successfully installed pwn-1.0” appears, it indicates that the installation was successful.</p> <h3 id="usage">Usage</h3> <p>Next, I will explain step by step how to implement an interaction script using the <code class="language-plaintext highlighter-rouge">pwn</code> library. For convenience, we use <code class="language-plaintext highlighter-rouge">from pwn import *</code> to import the library in our Python file.</p> <p>In the program, we first set the <code class="language-plaintext highlighter-rouge">host</code> (the server IP) and <code class="language-plaintext highlighter-rouge">port</code> (the port number), then use <code class="language-plaintext highlighter-rouge">remote</code> to create a <code class="language-plaintext highlighter-rouge">conn</code> object. As an example, we initialize it as follows:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">host</span> <span class="o">=</span> <span class="sh">'</span><span class="s">1.2.3.4</span><span class="sh">'</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">1234</span>
<span class="n">conn</span> <span class="o">=</span> <span class="nf">remote</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">)</span>
</code></pre></div></div> <p>The <code class="language-plaintext highlighter-rouge">conn</code> object has the following commonly used functions that we frequently utilize during interactions:</p> <ol> <li> <code class="language-plaintext highlighter-rouge">conn.send(data)</code> - Sends raw data to the server.</li> <li> <code class="language-plaintext highlighter-rouge">conn.recv(n)</code> - Receives <code class="language-plaintext highlighter-rouge">n</code> bytes of data from the server.</li> <li> <code class="language-plaintext highlighter-rouge">conn.recvline()</code> - Receives data until a newline character is encountered.</li> <li> <code class="language-plaintext highlighter-rouge">conn.recvuntil(delimiter)</code> - Receives data until the specified delimiter is reached.</li> <li> <code class="language-plaintext highlighter-rouge">conn.sendline(data)</code> - Sends data followed by a newline character.</li> <li> <code class="language-plaintext highlighter-rouge">conn.interactive()</code> - Switches the connection to interactive mode, allowing you to manually interact with the server.</li> </ol> <p>These functions are essential for managing communication in typical server interactions. Note that both <code class="language-plaintext highlighter-rouge">recv</code> and <code class="language-plaintext highlighter-rouge">send</code> handle data as bytes, so if you need to convert between <code class="language-plaintext highlighter-rouge">str</code> and <code class="language-plaintext highlighter-rouge">bytes</code>, you will need to use <code class="language-plaintext highlighter-rouge">encode</code> and <code class="language-plaintext highlighter-rouge">decode</code> accordingly, as shown below:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Sending a string, converted to bytes
</span><span class="n">conn</span><span class="p">.</span><span class="nf">sendline</span><span class="p">(</span><span class="sh">"</span><span class="s">Hello, server</span><span class="sh">"</span><span class="p">.</span><span class="nf">encode</span><span class="p">())</span>

<span class="c1"># Receiving bytes and converting them back to a string
</span><span class="n">response</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="nf">recvline</span><span class="p">().</span><span class="nf">decode</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre></div></div> <p>This ensures smooth communication when working with strings and byte data.</p> <h2 id="file-operations">File Operations</h2> <p>For file reading and writing in Python, you can use the built-in <code class="language-plaintext highlighter-rouge">open()</code> function to handle files. Here’s a brief explanation of how to read from and write to files in Python:</p> <h3 id="writing-to-a-file">Writing to a File</h3> <p>To write data to a file, you can open it in write mode (<code class="language-plaintext highlighter-rouge">'w'</code>), append mode (<code class="language-plaintext highlighter-rouge">'a'</code>), or binary write mode (<code class="language-plaintext highlighter-rouge">'wb'</code> for binary data). Here’s an example:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Writing to a file (overwrites if the file exists)
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">output.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">w</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sh">"</span><span class="s">This is some text data.</span><span class="se">\n</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Writing bytes to a file
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">output.bin</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">wb</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">b</span><span class="sh">'</span><span class="s">This is binary data.</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <h3 id="reading-from-a-file">Reading from a File</h3> <p>You can open a file in read mode (<code class="language-plaintext highlighter-rouge">'r'</code> for text or <code class="language-plaintext highlighter-rouge">'rb'</code> for binary data) to read its contents:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Reading from a text file
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">input.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

<span class="c1"># Reading from a binary file
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">input.bin</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">rb</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">()</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
</code></pre></div></div> <p>By using <code class="language-plaintext highlighter-rouge">with</code>, you ensure that the file is automatically closed after reading or writing. This makes the file operations safe and avoids potential issues such as leaving the file open.</p> <p>When dealing with file processing, there are situations where we need to read from or write to specific offsets in a file. To handle this, we use the <code class="language-plaintext highlighter-rouge">seek()</code> function to move the file pointer to the desired offset. Here’s how to perform these operations:</p> <h3 id="writing-to-a-specific-offset">Writing to a Specific Offset</h3> <p>You can use <code class="language-plaintext highlighter-rouge">seek(offset)</code> to move the file pointer to a specific byte position before writing:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Writing to a specific offset in the file
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">file.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">r+b</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">seek</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Move to the 10th byte
</span>    <span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="sa">b</span><span class="sh">'</span><span class="s">new data</span><span class="sh">'</span><span class="p">)</span>  <span class="c1"># Write new data at the offset
</span></code></pre></div></div> <h3 id="reading-from-a-specific-offset">Reading from a Specific Offset</h3> <p>Similarly, you can move the file pointer before reading:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Reading from a specific offset in the file
</span><span class="k">with</span> <span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">file.txt</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">rb</span><span class="sh">'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="p">.</span><span class="nf">seek</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># Move to the 5th byte
</span>    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># Read 10 bytes starting from the 5th byte
</span>    <span class="nf">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div></div> <h3 id="seek-modes"> <code class="language-plaintext highlighter-rouge">seek()</code> Modes</h3> <ul> <li> <code class="language-plaintext highlighter-rouge">f.seek(offset, 0)</code> - Moves the pointer to <code class="language-plaintext highlighter-rouge">offset</code> bytes from the beginning (default).</li> <li> <code class="language-plaintext highlighter-rouge">f.seek(offset, 1)</code> - Moves the pointer to <code class="language-plaintext highlighter-rouge">offset</code> bytes from the current position.</li> <li> <code class="language-plaintext highlighter-rouge">f.seek(offset, 2)</code> - Moves the pointer to <code class="language-plaintext highlighter-rouge">offset</code> bytes from the end of the file.</li> </ul> <p>These methods allow precise control over where to read or write in a file, making them useful for tasks like patching binary files or handling large data sets.</p> <h2 id="image-processing">Image Processing</h2> <p>The Python Imaging Library (PIL), now maintained as <strong>Pillow</strong>, is a powerful library for opening, manipulating, and saving images.<a href="https://pillow.readthedocs.io/en/stable/" rel="external nofollow noopener" target="_blank">3</a> Below are the common ways to use the Pillow library for various image processing tasks.</p> <h3 id="installation-1">Installation</h3> <p>First, you need to install the Pillow library using the following command:</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>Pillow
</code></pre></div></div> <h3 id="opening-an-image">Opening an Image</h3> <p>You can open an image using the <code class="language-plaintext highlighter-rouge">Image.open()</code> function:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">Image</span>

<span class="c1"># Open an image file
</span><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="sh">'</span><span class="s">example.jpg</span><span class="sh">'</span><span class="p">)</span>
<span class="n">img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>  <span class="c1"># Display the image
</span></code></pre></div></div> <h3 id="saving-an-image">Saving an Image</h3> <p>To save the image after manipulation, use the <code class="language-plaintext highlighter-rouge">save()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">img</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="sh">'</span><span class="s">output.jpg</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div> <h3 id="resizing-an-image">Resizing an Image</h3> <p>You can resize an image using the <code class="language-plaintext highlighter-rouge">resize()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Resize the image to 200x200 pixels
</span><span class="n">resized_img</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="nf">resize</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="n">resized_img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h3 id="cropping-an-image">Cropping an Image</h3> <p>To crop an image, use the <code class="language-plaintext highlighter-rouge">crop()</code> method. It requires a tuple specifying the left, upper, right, and lower pixel coordinates:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Crop a rectangular section from the image
</span><span class="n">cropped_img</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="nf">crop</span><span class="p">((</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
<span class="n">cropped_img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h3 id="rotating-an-image">Rotating an Image</h3> <p>You can rotate an image by a certain number of degrees using the <code class="language-plaintext highlighter-rouge">rotate()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Rotate the image by 90 degrees
</span><span class="n">rotated_img</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="n">rotated_img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h3 id="converting-to-grayscale">Converting to Grayscale</h3> <p>To convert an image to grayscale, use the <code class="language-plaintext highlighter-rouge">convert()</code> method with the mode <code class="language-plaintext highlighter-rouge">"L"</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Convert image to grayscale
</span><span class="n">gray_img</span> <span class="o">=</span> <span class="n">img</span><span class="p">.</span><span class="nf">convert</span><span class="p">(</span><span class="sh">'</span><span class="s">L</span><span class="sh">'</span><span class="p">)</span>
<span class="n">gray_img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h3 id="drawing-on-an-image">Drawing on an Image</h3> <p>To draw shapes or text on an image, you can use <code class="language-plaintext highlighter-rouge">ImageDraw</code> from the Pillow library:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">ImageDraw</span>

<span class="c1"># Open an image and create a drawing object
</span><span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="p">.</span><span class="nc">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

<span class="c1"># Draw a rectangle on the image
</span><span class="n">draw</span><span class="p">.</span><span class="nf">rectangle</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="n">outline</span><span class="o">=</span><span class="sh">"</span><span class="s">red</span><span class="sh">"</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <h3 id="adding-text-to-an-image">Adding Text to an Image</h3> <p>You can use <code class="language-plaintext highlighter-rouge">ImageFont</code> and <code class="language-plaintext highlighter-rouge">ImageDraw</code> to add text to an image:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">PIL</span> <span class="kn">import</span> <span class="n">ImageDraw</span><span class="p">,</span> <span class="n">ImageFont</span>

<span class="c1"># Create a drawing object
</span><span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="p">.</span><span class="nc">Draw</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

<span class="c1"># Load a font and add text to the image
</span><span class="n">font</span> <span class="o">=</span> <span class="n">ImageFont</span><span class="p">.</span><span class="nf">truetype</span><span class="p">(</span><span class="sh">"</span><span class="s">arial.ttf</span><span class="sh">"</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="n">draw</span><span class="p">.</span><span class="nf">text</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="sh">"</span><span class="s">Hello, World!</span><span class="sh">"</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="n">font</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="sh">"</span><span class="s">white</span><span class="sh">"</span><span class="p">)</span>

<span class="n">img</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</code></pre></div></div> <p>Pillow provides a wide range of functionality for image manipulation, from basic tasks like resizing and cropping to more advanced operations such as filtering, blending, and even drawing shapes or text on images. PIL can also handle GIF files, including opening, processing, and saving them. Readers can explore these capabilities on their own.</p> <h2 id="base64-and-other-base-encodings-in-python">Base64 and Other Base Encodings in Python</h2> <p>Python’s <code class="language-plaintext highlighter-rouge">base64</code> module provides functionality for encoding and decoding data in base64 and similar base encodings. Here’s a brief guide to handling base encoding and various conversions between <code class="language-plaintext highlighter-rouge">bytes</code>, <code class="language-plaintext highlighter-rouge">str</code>, <code class="language-plaintext highlighter-rouge">int</code>, and <code class="language-plaintext highlighter-rouge">hex</code>.</p> <p>First, import the <code class="language-plaintext highlighter-rouge">base64</code> module:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">base64</span>
</code></pre></div></div> <p>To encode binary data (in <code class="language-plaintext highlighter-rouge">bytes</code>) to a base64-encoded string:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="sa">b</span><span class="sh">"</span><span class="s">Hello, World!</span><span class="sh">"</span>
<span class="n">encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="nf">b64encode</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>  <span class="c1"># Output: b'SGVsbG8sIFdvcmxkIQ=='
</span></code></pre></div></div> <p>To decode base64-encoded data back into bytes:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">decoded</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="nf">b64decode</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">decoded</span><span class="p">)</span>  <span class="c1"># Output: b'Hello, World!'
</span></code></pre></div></div> <p>To work with <code class="language-plaintext highlighter-rouge">str</code>, you’ll need to encode/decode between <code class="language-plaintext highlighter-rouge">str</code> and <code class="language-plaintext highlighter-rouge">bytes</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Encoding str to Base64
</span><span class="n">string_data</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Hello, World!</span><span class="sh">"</span>
<span class="n">encoded</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="nf">b64encode</span><span class="p">(</span><span class="n">string_data</span><span class="p">.</span><span class="nf">encode</span><span class="p">())</span>
<span class="nf">print</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span>  <span class="c1"># Output: b'SGVsbG8sIFdvcmxkIQ=='
</span>
<span class="c1"># Decoding Base64 back to str
</span><span class="n">decoded</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="nf">b64decode</span><span class="p">(</span><span class="n">encoded</span><span class="p">).</span><span class="nf">decode</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">decoded</span><span class="p">)</span>  <span class="c1"># Output: 'Hello, World!'
</span></code></pre></div></div> <h2 id="bytes-string-integer-and-hex-conversions">Bytes, String, Integer, and Hex Conversions</h2> <h4 id="bytes-to-string-str-conversion">Bytes to String (<code class="language-plaintext highlighter-rouge">str</code>) Conversion</h4> <p>If you have a <code class="language-plaintext highlighter-rouge">bytes</code> object, you can convert it to a <code class="language-plaintext highlighter-rouge">str</code> using the <code class="language-plaintext highlighter-rouge">decode()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bytes_data</span> <span class="o">=</span> <span class="sa">b</span><span class="sh">'</span><span class="s">Hello</span><span class="sh">'</span>
<span class="n">string_data</span> <span class="o">=</span> <span class="n">bytes_data</span><span class="p">.</span><span class="nf">decode</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">string_data</span><span class="p">)</span>  <span class="c1"># Output: 'Hello'
</span></code></pre></div></div> <h4 id="string-str-to-bytes-conversion">String (<code class="language-plaintext highlighter-rouge">str</code>) to Bytes Conversion</h4> <p>To convert a <code class="language-plaintext highlighter-rouge">str</code> to <code class="language-plaintext highlighter-rouge">bytes</code>, use the <code class="language-plaintext highlighter-rouge">encode()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">string_data</span> <span class="o">=</span> <span class="sh">"</span><span class="s">Hello</span><span class="sh">"</span>
<span class="n">bytes_data</span> <span class="o">=</span> <span class="n">string_data</span><span class="p">.</span><span class="nf">encode</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">bytes_data</span><span class="p">)</span>  <span class="c1"># Output: b'Hello'
</span></code></pre></div></div> <h4 id="integer-to-bytes-conversion">Integer to Bytes Conversion</h4> <p>You can convert an integer to a <code class="language-plaintext highlighter-rouge">bytes</code> object using the <code class="language-plaintext highlighter-rouge">to_bytes()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">number</span> <span class="o">=</span> <span class="mi">12345</span>
<span class="n">byte_data</span> <span class="o">=</span> <span class="n">number</span><span class="p">.</span><span class="nf">to_bytes</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="sh">'</span><span class="s">big</span><span class="sh">'</span><span class="p">)</span>  <span class="c1"># 4 bytes, big-endian
</span><span class="nf">print</span><span class="p">(</span><span class="n">byte_data</span><span class="p">)</span>  <span class="c1"># Output: b'\x00\x00\x30\x39'
</span></code></pre></div></div> <h4 id="bytes-to-integer-conversion">Bytes to Integer Conversion</h4> <p>To convert <code class="language-plaintext highlighter-rouge">bytes</code> back to an integer, use the <code class="language-plaintext highlighter-rouge">int.from_bytes()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">byte_data</span> <span class="o">=</span> <span class="sa">b</span><span class="sh">'</span><span class="se">\x00\x00\x30\x39</span><span class="sh">'</span>
<span class="n">number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">.</span><span class="nf">from_bytes</span><span class="p">(</span><span class="n">byte_data</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="sh">'</span><span class="s">big</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>  <span class="c1"># Output: 12345
</span></code></pre></div></div> <h4 id="hexadecimal-string-to-bytes">Hexadecimal String to Bytes</h4> <p>You can convert a hexadecimal string to a <code class="language-plaintext highlighter-rouge">bytes</code> object using <code class="language-plaintext highlighter-rouge">bytes.fromhex()</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hex_string</span> <span class="o">=</span> <span class="sh">"</span><span class="s">48656c6c6f</span><span class="sh">"</span>
<span class="n">byte_data</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">.</span><span class="nf">fromhex</span><span class="p">(</span><span class="n">hex_string</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">byte_data</span><span class="p">)</span>  <span class="c1"># Output: b'Hello'
</span></code></pre></div></div> <h4 id="bytes-to-hexadecimal-string">Bytes to Hexadecimal String</h4> <p>To convert <code class="language-plaintext highlighter-rouge">bytes</code> to a hexadecimal string, use the <code class="language-plaintext highlighter-rouge">hex()</code> method:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">byte_data</span> <span class="o">=</span> <span class="sa">b</span><span class="sh">'</span><span class="s">Hello</span><span class="sh">'</span>
<span class="n">hex_string</span> <span class="o">=</span> <span class="n">byte_data</span><span class="p">.</span><span class="nf">hex</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">hex_string</span><span class="p">)</span>  <span class="c1"># Output: '48656c6c6f'
</span></code></pre></div></div> <h4 id="integer-to-hexadecimal-string">Integer to Hexadecimal String</h4> <p>To convert an integer to a hexadecimal string:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">number</span> <span class="o">=</span> <span class="mi">12345</span>
<span class="n">hex_string</span> <span class="o">=</span> <span class="nf">hex</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">hex_string</span><span class="p">)</span>  <span class="c1"># Output: '0x3039'
</span></code></pre></div></div> <h4 id="hexadecimal-string-to-integer">Hexadecimal String to Integer</h4> <p>To convert a hexadecimal string back to an integer:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">hex_string</span> <span class="o">=</span> <span class="sh">'</span><span class="s">0x3039</span><span class="sh">'</span>
<span class="n">number</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">hex_string</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>  <span class="c1"># Output: 12345
</span></code></pre></div></div> <h3 id="summary-of-conversions">Summary of Conversions</h3> <ul> <li> <strong>Base64</strong>: Use the <code class="language-plaintext highlighter-rouge">base64</code> module for encoding/decoding base64.</li> <li> <strong>Bytes ↔ String</strong>: Use <code class="language-plaintext highlighter-rouge">encode()</code> to convert <code class="language-plaintext highlighter-rouge">str</code> to <code class="language-plaintext highlighter-rouge">bytes</code> and <code class="language-plaintext highlighter-rouge">decode()</code> for the reverse.</li> <li> <strong>Bytes ↔ Integer</strong>: Use <code class="language-plaintext highlighter-rouge">to_bytes()</code> to convert an integer to <code class="language-plaintext highlighter-rouge">bytes</code> and <code class="language-plaintext highlighter-rouge">int.from_bytes()</code> for the reverse.</li> <li> <strong>Bytes ↔ Hexadecimal</strong>: Use <code class="language-plaintext highlighter-rouge">hex()</code> to convert <code class="language-plaintext highlighter-rouge">bytes</code> to hex string and <code class="language-plaintext highlighter-rouge">bytes.fromhex()</code> for the reverse.</li> <li> <strong>Integer ↔ Hexadecimal</strong>: Use <code class="language-plaintext highlighter-rouge">hex()</code> to convert an integer to hex string and <code class="language-plaintext highlighter-rouge">int()</code> to convert hex back to an integer.</li> </ul> <p>These conversions are important for dealing with various encoding schemes and data types in Python.</p> <p>The Python content required for the Misc section of this course has been fully covered in the material above. For more advanced understanding, readers are encouraged to learn on their own or reach out to the TA for assistance.</p> <hr> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Kaijian Wang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"About",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-blog",title:"Blog",description:"",section:"Navigation",handler:()=>{window.location.href="/blog/"}},{id:"nav-publications",title:"Publications",description:"",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"nav-cv",title:"CV",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"nav-ta",title:"TA",description:"Materials for courses I assist.",section:"Navigation",handler:()=>{window.location.href="/teaching/"}},{id:"nav-friends",title:"Friends",description:"I am honored to work with some very talented and nice people.",section:"Navigation",handler:()=>{window.location.href="/friends/"}},{id:"post-hackergame-2024-write-up",title:"Hackergame 2024 Write-Up",description:"\u300c\u590f\u548c\u5c0f\u300d's Write-Up",section:"Posts",handler:()=>{window.location.href="/blog/2024/hackergame_wp/"}},{id:"post-fix-github-deploy-error-with-exit-code-16",title:"Fix Github deploy error with exit code 16",description:"The process '/opt/hostedtoolcache/Ruby/3.2.2/x64/bin/bundle' failed with exit code 16",section:"Posts",handler:()=>{window.location.href="/blog/2024/fix_github_deploy_error/"}},{id:"post-a-cheet-sheet-for-building-homepage-based-on-al-folio",title:"A cheet sheet for building homepage based on al-folio",description:"Include descriptions of some changeable parameters which aren't mentioned in the official repository README",section:"Posts",handler:()=>{window.location.href="/blog/2024/alfolio_cheat_sheet/"}},{id:"post-0xd009-blog",title:'0xD009 - Blog <svg width="1.2rem" height="1.2rem" top=".5rem" viewbox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"0xD009 - Blog",section:"Posts",handler:()=>{window.open("https://0xd009.github.io/","_blank")}},{id:"news-my-new-homepage-is-available-now-sparkles-smile",title:'My new homepage is available now!<img class="emoji" title=":sparkles:" alt=":sparkles:" src="https://github.githubassets.com/images/icons/emoji/unicode/2728.png" height="20" width="20"> <img class="emoji" title=":smile:" alt=":smile:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png" height="20" width="20">',description:"",section:"News"},{id:"projects-test-project",title:"test project",description:"little flag",section:"Projects",handler:()=>{window.location.href="/projects/1_project/"}},{id:"teaching-data-structure-and-algorithm",title:"Data Structure and Algorithm",description:"advisor - Prof. Dong Liu",section:"Teaching",handler:()=>{window.location.href="/teaching/dsa/"}},{id:"teaching-information-security-design-and-analysis",title:"Information Security Design and Analysis",description:"Misc, Advisor - Me and Crabtux",section:"Teaching",handler:()=>{window.location.href="/teaching/infosec_1/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6B%61%69%6A%69%61%6E.%77%61%6E%67@%72%69%63%65.%65%64%75","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>